### 理解docker commit 带来的后果 

`docker commit` 命令除了学习之外，还有一些特殊的应用场合，比如被入侵后保存现场等。
但是，不要使用 `docker commit` 定制镜像，定制镜像应该使用 `Dockerfile` 来完成。
如果你想要定制镜像请查看下一小节。

镜像是容器的基础，每次执行 `docker run` 的时候都会指定哪个镜像作为容器运行的基础.
镜像是多层存储，每一层是在前一层的基础上进行的修改；
而容器同样也是多层存储，是在以镜像为基础层，在其基础上加一层作为容器运行时的存储层。
```shell 
    docker exec -it image bash 
``` 
进入容器里面，并打开交互式bash. 
当我们对容器进行更改之后，按照常理需要commit。 
```shell 
    docker commit --author ""  --message""  容器  仓库名：标签
``` 
不应该使用docker commit 来提交，原因如下： 
1)容器中大量的操作 编译、安装环境等等，可能导致过多的垃圾数据，使得镜像容重。 
2)正对docker commit 来说是生成的容器是暗箱镜像，维护工作较为痛苦。 
3)镜像所使用的是分层存储，除当前层外，之前的每一层都是不会发生改变的，换句话说，任何修改的结果仅仅是在当前层进行标记、添加、修改，而不会改动上一层。如果使用 docker commit 制作镜像，以及后期修改的话，每一次修改都会让镜像更加臃肿一次，所删除的上一层的东西并不会丢失，会一直如影随形的跟着这个镜像，即使根本无法访问到。这会让镜像更加臃肿。


